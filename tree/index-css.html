<!DOCTYPE html>
<html lang="en">
<head>
<meta charset='utf-8' />
<title>柑普茶</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="renderer" content="webkit"/>
<meta name='apple-mobile-web-app-capable' content='yes' />
<meta name='full-screen' content='true' />
<meta name='x5-fullscreen' content='true' />
<meta name='360-fullscreen' content='true' />
<meta name="laya" screenorientation ="landscape"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta http-equiv='expires' content='0' />
<meta http-equiv="Cache-Control" content="no-siteapp"/>
<script src="js/flexible.js"></script>
<link rel="stylesheet" href="css/reset.css">
<style>
html,body { width: 100%; height: 100%; overflow: hidden; }
.container-box { width: 100%; max-width: 10rem; height: 100%; background: #9EE3EB url(images/bg5_fresh.webp) no-repeat center bottom; background-size: contain; position: relative; margin: 0 auto; overflow: hidden; }
/* 遮罩 */
.mask { width: 100%; height: 100%; position: absolute; background: rgba(0, 0, 0, .8); z-index: 19; display: none; }
/* 大礼包弹出层 */
.treasure-box-wrapper { width: 100%; height: 8rem; position: absolute; top: 50%; left: 0; transform: translateY(-50%); z-index: 2; display: none; }
.treasure-box-wrapper .treasure-bg { width: 8rem; height: 8rem; position: absolute; top: 0; left: 1rem; animation: windMill 10s linear infinite; }
.treasure-box-wrapper .treasure-dot { width: 5.28rem; height: 5.706667rem; position: absolute; top: 1rem; left: 50%; transform: translateX(-50%); }
.treasure-box-wrapper .treasure-img { width: 4.053333rem; height: 4.266667rem; position: absolute; top: 1.8rem; left: 3rem; animation: treasure-box 1.2s linear .6s infinite; }
.treasure-box-wrapper .txt { font-size: .426667rem; color: #ffffff; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); }
/* 浇水寻宝弹出层 */
.water-xunbao { width: 7.466667rem; height: 9.3rem; background-color: #bcd650; border-radius: .2rem; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%) translateY(-1rem); z-index: 20; display: none; }
.water-xunbao .btn-close { width: .7rem; height: .7rem; position: absolute; top: -1.2rem; right: -.7rem; }
.water-xunbao .top { box-sizing: border-box; width: 100%; height: 4.6rem; padding-top: 1.1rem; background: url(images/watering_popup_bg.png) no-repeat; background-size: cover; }
.water-xunbao .top .title { font-size: .533333rem; color: #ffffff; text-shadow: 0 0.03rem 0.05rem #000; text-align: center; margin-bottom: .4rem; }
.water-xunbao .day { width: 5.72rem; height: .7rem; margin: 0 auto 2rem; display: flex; justify-content: space-between; position: relative; }
.water-xunbao .day .line { width: 100%; height: 1px; background: #b75b01; position: absolute; top: .35rem; }
.water-xunbao .day .day-done { box-sizing: border-box; width: .72rem; height: .72rem; background-color: #f7ecd7; border-radius: 50%; font-size: .32rem; color: #b75b01; line-height: .72rem; text-align: center; border: .01rem solid #b75b01; z-index: 2; }
.water-xunbao .day .day-img { border: 0; }
.water-xunbao .day img { display: block; width: 100%; height: 100%; margin: 0; }
.water-xunbao .text { width: 100%; height: .373333rem; font-size: .373333rem; line-height: .373333rem; color: #328c11; text-align: center; position: relative; margin-bottom: .3rem }
.water-xunbao .text div::before,.water-xunbao .text div::after { content: ''; height: 1px; width: .25rem; background: #328c11; position: absolute; top: 44%; }
.water-xunbao .text div::before { left: 12%; }
.water-xunbao .text div::after { right: 12%; }
.water-xunbao .list { width: 100%; height: 1.013333rem; padding: 0 2.4rem; display: flex; justify-content: space-between; margin-bottom: .4rem; }
.water-xunbao .list .pic { width: 1.013333rem; height: 1.013333rem; }
.water-xunbao .btn { display: block; width: 6.5rem; height: 1.2rem; border: 0; background: #ff710a; border-radius: .12rem; font-size: .5rem; line-height: 1.2rem; color: #fff; text-align: center; box-shadow: 0 0.08rem 0 0 #964103; margin: 0 auto; }
/* 助力领水弹出层 */
.water-zhuli { box-sizing: border-box; width: 7.466667rem; height: 7.8rem; padding-top: 1rem; background-color: #ffffff; border-radius: .2rem; box-shadow: 0 3px 0 #dbdbdb; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); z-index: 20; display: none; }
.water-zhuli .btn-close { width: .7rem; height: .7rem; position: absolute; top: -1.2rem; right: -.7rem; }
.water-zhuli .title { width: 100%; height: 1.28rem; position: absolute; left: 0; top: -.64rem; text-align: center; }
.water-zhuli .title img { width: 6.346667rem; height: 100%; position: absolute; left: 50%; top: 0; transform: translateX(-50%); z-index: -1; }
.water-zhuli .title .txt { font-size: .5rem; color: #ffffff; text-align: center; margin-top: .2rem; }
.water-zhuli .help-title { font-size: .46rem; line-height: .8rem; font-weight: 600; color: #525252; text-align: center; }
.water-zhuli .help-title span { font-size: .44rem; color: #ff5454; }
.water-zhuli .help-title img { width: .48rem; height: .56rem; vertical-align: middle; }
.water-zhuli .help-img { width: 100%; position: relative; margin: .4rem 0 .6rem; }
.water-zhuli .help-img img { display: block; width: 3rem; height: 3rem; margin: 0 auto; }
.water-zhuli .help-img .size { font-size: .7rem; font-weight: 600; color: #0f5564; position: absolute; top: 54%; left: 50%; transform: translateX(-50%); }
.water-zhuli .btn { display: block; width: 6.5rem; height: 1.2rem; border: 0; background: #83cd33; border-radius: .12rem; font-size: .46rem; line-height: 1.2rem; color: #fff; text-align: center; margin: 0 auto; }
/* 领水滴弹出层  */
.water-di { width: 100%; height: 14rem; background: #ffffff; position: absolute; bottom: 0; left: 0; z-index: 2;}
.water-di .title { box-sizing: border-box; width: 100%; height: 1.2rem; border-bottom: .06rem solid #ededed; position: relative; }
.water-di .title .desc { font-size: .4rem; line-height: 1.2rem; font-weight: 600; color: #6b6b6b; padding-left: .4rem; }
.water-di .title .close { font-size: .8rem; font-family: simsun; line-height: .8rem; padding: .2rem; color: #9c9c9c; position: absolute; top: 0; right: .2rem; }
.water-di .content { width: 100%; height: 12.8rem; overflow-x: hidden; overflow-y: auto; }
.water-di .wrap { padding: 0 .4rem; position: relative; }
.water-di .box { padding: .4rem 0; border-bottom: .013333rem solid #f4f4f4; display: flex; }
.water-di .wrap .pic { width: 1.6rem; height: 1.6rem; margin-right: .5rem; }
.water-di .wrap .detail { flex: 1; background: pink; display: flex; align-items: center; }
.water-di .wrap .desc { font-size: .426667rem; font-weight: 600; color: #151516; }
.water-di .wrap .sub { margin-top: .1rem; font-size: 0; }
.water-di .wrap .sub .txt { font-size: .373333rem; color: #6b6b6b; }
.water-di .wrap .sub .img { display: inline-block; width: .48rem; height: .56rem; background-image: url(images/commonPopupDrip.png); background-size: 100%; vertical-align: middle; transform: scale(.8); }
.water-di .wrap .btn { width: 1.8rem; height: .8rem; border-radius: .12rem; background: #83cd33; font-size: .373333rem; line-height: .8rem; text-align: center; color: #ffffff; }
/* 可以点击的icon */
.icon-wrap { width: 1.706667rem; height: 1.706667rem; }
.right-icon { position: absolute; top: .2rem; right: 0; }
.left-icon { position: absolute; top: .2rem; left: .2rem; }
.bottom-icon { position: absolute; bottom: 2.133333rem; left: 0; }
.icon-wrap .icon { width: 1.706667rem; height: 1.706667rem; }
.icon-wrap .click { width: 1.2rem; height: .986667rem; position: absolute; top: .6rem; left: .6rem; z-index: 2; animation: handClick 1s ease-out infinite alternate; }
.right-icon2 { top: 1.906667rem; }
/* 树 */
.tree-bed { width: 5.653333rem; position: absolute; left: 50%; bottom: 4.666667rem; transform: translateX(-50%); }
.tree-content { width: 3.546667rem; height: 4.746667rem; position: absolute; left: 50%; bottom: 6rem; transform: translateX(-50%); }
.tree-shake { animation: treeShake 1s linear; }
/* 云 */
.sunlight { width: 200px; position: absolute; top: 0; right: 0; }
.clound1 { width: 150px; position: absolute; top: 20px; animation: cloundAnimated1 70s linear infinite alternate; }
.clound2 { width: 90px; position: absolute; top: 80px; animation: cloundAnimated2 60s linear infinite alternate; }
/* 风车 */
.windMillBg { width: .8rem; position: absolute; bottom: 10.4rem; left: 1.6rem; }
.windMill { width: 1.6rem; position: absolute; bottom: 10.4rem; left: 1.2rem; animation: windMill 10s linear infinite; }
/* 底部阴影盒子 */
.bottom-content { box-sizing: border-box; width: 100%; height: 2.133333rem; padding: .266667rem 0; background: rgba(0, 0, 0, .3); position: absolute; bottom: 0; left: 0; }
.bottom-content .wrap { box-sizing: border-box; width: 1.6rem; padding: 0 .133333rem; }
.bottom-content .pic img { box-sizing: border-box; display: block; width: 1.2rem; height: 1.2rem; border: 1px solid #ffffff; border-radius: 50%; margin: 0 auto .066667rem; }
.bottom-content .name { font-size: 12px; color: #ffffff; text-align: center; }
/* 水壶 */
.watering-content { width: 1.92rem; height: 2.133333rem; background: url(images/wateringBg_v4.webp) no-repeat center top; background-size: contain; position: absolute; bottom: 2.133333rem; right: .533333rem; }
.watering-content .water { display: block; width: 1.733333rem; margin: 0 auto; animation: kettleSwing 4s linear infinite; }
.watering-content .water-move { display: block; width: 1.733333rem; position: absolute; top: 0; left: 0.093rem; opacity: 0; z-index: 10; transform: translate(-1.8rem, -7.8rem); }
.watering-content .number { font-size: 14px; color: #ffffff; text-align: center; }
.kettle-move { opacity: 1 !important; animation: kettleMove 3s ease-out forwards !important; }
/* 浇水 */
.watering { width: 2.56rem; height: 3.413333rem; background: url(images/watering.png); background-position: 0 0; background-size: cover; position: absolute; bottom: 8.533333rem; left: 50%; pointer-events: none; opacity: 0; }
.watering-move { animation: wateringMove 1s 1s steps(1, start); }
/* 浇水进度 */
.watering-rate { width: 100%; position: absolute; left: 0; bottom: 3.6rem; }
.watering-rate .rate { box-sizing: border-box; width: 4.96rem; height: .586667rem; padding-left: .6rem; padding-top: .106667rem; background: url(images/healthBg_v4.webp) no-repeat; background-size: cover; margin: 0 auto; }
.watering-rate .left { width: 100px; height: .346667rem; transition: all .4s; }
.watering-rate .right { width: .653333rem; height: .346667rem; }
.watering-rate .txt { font-size: .346667rem; color: #ffffff; text-align: center; }
/* 点击树的提示 */
.tip-click { display: inline; padding: 2px; font-size: .373333rem; color: #69a126; text-align: center; background: #fff9bc; border: 2px solid #69a126; border-radius: 6px; position: absolute; bottom: 9rem; left: 50%; transform: translateX(-50%) scale(0); }
.tip-click-show { animation: spreadAnimate .4s linear forwards; }
/* 暂停动画 */
.animation-pause { animation-play-state: paused !important; }
/* 树 */
@keyframes treeShake
{
  0% {height: 4.746667rem;}
  20% {height: 4.946667rem;}
  50% {height: 4.746667rem;}
  75% {height: 4.846667rem;}
  100% {height: 4.746667rem;}
}
/* 云 */
@keyframes cloundAnimated1
{
  from {left: -150px;}
  to {left: 100%;}
}
@keyframes cloundAnimated2
{
  from {left: 100%;}
  to {left: -90px;}
}
/* 浇水 */
@keyframes kettleSwing
{
  80% {transform: rotate(0);}
  82% {transform: rotate(20deg);}
  84% {transform: rotate(-20deg);}
  86% {transform: rotate(14deg);}
  88% {transform: rotate(-14deg);}
  90% {transform: rotate(8deg);}
  92% {transform: rotate(-8deg);}
  94% {transform: rotate(4deg);}
  96% {transform: rotate(-4deg);}
  98% {transform: rotate(2deg);}
  100% {transform: rotate(0);}
}
@keyframes kettleMove
{
  0% {transform: translate(0, 0);}
  33% {transform: translate(-1.8rem, -7.8rem); opacity: 1;}
  34% {opacity: 0;}
  65% {opacity: 0;}
  66% {opacity: 1;}
  67% {transform: translate(-1.8rem, -7.8rem);}
  99% {opacity: 1;}
  100% {transform: translate(0, 0); opacity: 0;}
}
@keyframes wateringMove
{
  0% {background-position: 0 0; }
  20% {background-position: -2.56rem 0;}
  40% {background-position: -5.12rem 0;}
  60% {background-position: -7.68rem 0;}
  80% {background-position: -10.24rem 0;}
  100% {background-position: -12.8rem 0;}
}
/* 大礼包动画 */
@keyframes treasure-box {
  0% {transform: rotate(0)}
  8.3% {transform: rotate(20deg)}
  16.6% {transform: rotate(0deg)}
  24.9% {transform: rotate(-20deg)}
  33.3% {transform: rotate(0deg)}
  41.5% {transform: rotate(15deg)}
  49.8% {transform: rotate(0deg)}
  58.1% {transform: rotate(-15deg)}
  66.4% {transform: rotate(0deg)}
  74.7% {transform: rotate(5deg)}
  83% {transform: rotate(0deg)}
  91.3% {transform: rotate(-5deg)}
  to {transform: rotate(0deg)}
}
/* 旋转 */
@keyframes windMill
{
  from {transform: rotate(0);}
  to {transform: rotate(360deg);}
}
/* 从中心向外扩散 */
@keyframes spreadAnimate
{
  0% {transform: translateX(-50%) scale(0);}
  100% {transform: translateX(-50%) scale(1);}
}
/* 想要点击的手型 */
@keyframes handClick
{
  0% {transform: translate(0,0);}
  100% {transform: translate(.6rem,.6rem);}
}
</style>
<title>种树</title>
</head>
<body>
<div class="container-box" id="app">
  <div class="mask"></div>
  <img class="sunlight" src="images/light_v3.png" alt="">
  <img class="clound1" src="images/cloudLeft_v2.webp" alt="">
  <img class="clound2" src="images/cloudRight_v2.webp" alt="">
  <img class="windMillBg" src="images/windMillBg_v2.webp" alt="">
  <img class="windMill" src="images/windMill_v2.png" alt="">
  <img class="tree-bed" src="images/health_good_land_v2.png" alt="">
  <img class="tree-content" src="images/bud_v2.webp" alt="">
  <!-- 右侧可以点击的按钮列表 -->
  <div class="icon-wrap right-icon right-icon1" @click.stop="showWaterZhuli">
    <img class="icon" src="images/help-icon.png" alt="">
  </div>
  <div class="icon-wrap right-icon right-icon2">
    <img class="icon" src="images/fresherLimited.png" alt="">
    <img class="click" src="images/beginClick_v3.png" alt="">
  </div>
  <!-- 左侧可以点击的按钮列表 -->
  <div class="icon-wrap left-icon right-icon1" @click.stop="showWaterXunbao">
    <img class="icon" src="images/wateringIcon-v2.png" alt="">
  </div>
  <!-- 底部可以点击的按钮列表 -->
  <div class="icon-wrap bottom-icon bottom-icon1">
    <img class="icon" src="images/getWater_v3.png" alt="">
  </div>
  <!-- 水壶 -->
  <div class="watering-content">
    <img class="water" src="images/waterMovingBottleV2-1.png" alt="">
    <img class="water-move" src="images/waterMovingBottleV2-1.png" alt="">
    <p class="number">10g</p>
  </div>
  <!-- 浇水 -->
  <div class="watering"></div>
  <!-- 浇水进度 -->
  <div class="watering-rate">
    <div class="clearfix rate">
      <img class="fl left" src="images/healthBlueMid_v3.webp" alt="" :style="{width:waterWidth + 'rem'}">
      <img class="fl right" src="images/healthBlueHead_v3.webp" alt="">
    </div>
    <p class="txt">再浇{{waterNumTotal-waterNum}}次柑普树就长大成树了</p>
  </div>
  <!-- 底部阴影盒子 -->
  <div class="bottom-content">
    <div class="fl wrap">
      <div class="pic">
        <img src="https://t20img.yangkeduo.com/a/81e766d44f39fa2ffc54be6295dea845bbbd29f3-1539611330?imageMogr2/thumbnail/100x" alt="">
      </div>
      <p class="name">放逐天际</p>
    </div>
    <div class="fl wrap">
      <div class="pic">
        <img src="https://t20img.yangkeduo.com/a/81e766d44f39fa2ffc54be6295dea845bbbd29f3-1539611330?imageMogr2/thumbnail/100x" alt="">
      </div>
      <p class="name">放逐天际</p>
    </div>
  </div>
  <!-- 大礼包 -->
  <div class="treasure-box-wrapper">
    <img class="treasure-bg" src="//pinduoduoimg.yangkeduo.com/cartoon_activity/fruiter/treasureBoxLight.png" alt="">
    <img class="treasure-dot" src="//pinduoduoimg.yangkeduo.com/cartoon_activity/fruiter/treasureBoxDot_v2.png" alt="">
    <img class="treasure-img" src="//pinduoduoimg.yangkeduo.com/cartoon_activity/fruiter/treasureBox.png" alt="">
    <p class="txt">点击获取大礼包</p>
  </div>
  <!-- 点击树的提示信息 -->
  <div class="tip-click">我有好多好玩的事需要告诉你</div>
  <!-- 弹出层 -->
  <!-- 浇水寻宝 -->
  <div class="water-xunbao">
    <img class="btn-close" src="images/commonPopupCloseButtonV2.png" alt="" @click.stop="hideWaterXunbao">
    <div class="top">
      <p class="title">连续7天浇水开宝箱</p>
      <div class="day">
        <div class="line"></div>
        <div class="day-done day-img">
          <img src="images/watering-popup-right.png" alt="">
        </div>
        <div class="day-done">2天</div>
        <div class="day-done">3天</div>
        <div class="day-done">4天</div>
        <div class="day-done">5天</div>
        <div class="day-done">6天</div>
        <div class="day-done day-img">
          <img src="images/watering-popup-reword.png" alt="">
        </div>
      </div>
      <div class="text">
        <div>打开宝箱可随机获得以下奖励</div>
      </div>
      <div class="list">
        <img class="pic" src="images/watering-popup-list-water-v3.png" alt="">
        <img class="pic" src="images/watering-popup-list-coupon.png" alt="">
      </div>
      <button class="btn" @click.stop="hideWaterXunbao">去浇水</button>
    </div>
  </div>
  <!-- 助力领水 -->
  <div class="water-zhuli">
    <img class="btn-close" src="images/commonPopupCloseButtonV2.png" alt="" @click.stop="hideWaterZhuli">
    <div class="title">
      <img src="images/health-startup-popup-title.png" alt="">
      <p class="txt">助力领水</p>
    </div>
    <div class="help-title">
      邀请好友助力可得
      <span>20-50g</span>
      <img src="images/commonPopupDrip.png" alt="">
    </div>
    <div class="help-img">
      <img src="images/help-bottle-gain.png" alt="">
      <p class="size">?</p>
    </div>
    <button class="btn">去邀请好友助力</button>
  </div>
  <!-- 领水滴 -->
  <div class="water-di">
    <div class="title">
      <span class="desc">领水滴任务</span>
      <span class="close">×</span>
    </div>
    <div class="content">
      <div class="wrap">
        <div class="box">
          <img class="pic" src="images/missionShare_v2.png" alt="">
          <div class="detail">
            <div class="txt-content">
              <div class="desc">分享领水</div>
              <div class="sub">
                <span class="txt">奖励45g</span>
                <span class="img"></span>
                <span class="txt">，次数不限</span>
              </div>
            </div>
            <div class="btn">去完成</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/vue/2.5.17/vue.min.js"></script>
<script>
var app = new Vue({
  el: '#app',
  data: {
    waterNumTotal: 6,
    waterNum: 1,
    waterWidth: 1
  },
  mounted: function () {
    var _this = this;
    _this.waterWidth = (3 / _this.waterNumTotal) * _this.waterNum;
  },
  methods: {
    // 显示浇水寻宝
    showWaterXunbao: function () {
      $('.mask').fadeIn(500,function(){
        $('.water-xunbao').show();
      });
    },
    // 隐藏浇水寻宝
    hideWaterXunbao: function () {
      $('.water-xunbao').hide(function(){
        $('.mask').fadeOut();
      });
    },
    // 显示助力领水
    showWaterZhuli: function () {
      $('.mask').fadeIn(500,function(){
        $('.water-zhuli').show();
      });
    },
    // 隐藏助力领水
    hideWaterZhuli: function () {
      $('.water-zhuli').hide(function(){
        $('.mask').fadeOut();
      });
    },
  },
  watch: {
    // 监控浇水次数
    waterNum: function (curVal, oldVal) {
      this.waterWidth = (3 / this.waterNumTotal) * curVal;
    }
  }
})
// 点击树
$('.tree-content').click(function () {
  var _this = $(this);
  if(!_this.hasClass('tree-shake')) {
    _this.addClass('tree-shake');
    $('.tip-click').addClass('tip-click-show');
    setTimeout(function(){
      _this.removeClass('tree-shake');
      // 显示大礼包
      // $('.treasure-box-wrapper').fadeIn();
      // $('.mask').show();
    }, 1000)
    setTimeout(function(){
      $('.tip-click').removeClass('tip-click-show');
    }, 5000)
  }
})
// 浇水
$('.watering-content').click(function () {
  $('.water-move').addClass('kettle-move');
  $('.watering').addClass('watering-move');
  $('.water').css({'opacity': 0});
  setTimeout(function(){
    $('.watering').css({'opacity': 1});
    app.waterNum += 1;
    if(app.waterNum >= app.waterNumTotal) {
      app.waterNum = 0;
    }
  },1000)
  setTimeout(function(){
    $('.watering').css({'opacity': 0});
  },2000)
  setTimeout(function(){
    $('.watering').removeClass('watering-move');
    $('.water-move').removeClass('kettle-move');
    $('.water').css({'opacity': 1});
  }, 3000)
})
// 点击水壶
</script>
</body>
</html>